{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/phonebook.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","value","filter","onChange","handleNameFilter","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","PersonDetail","person","toggleDeletePerson","name","number","id","onClick","Persons","persons","map","baseUrl","axios","get","then","response","data","newPerson","post","put","delete","Notification","message","typeMessage","className","App","useState","setPersons","setNewName","setNewNumber","nameFilter","setNameFilter","setMessage","setTypeMessage","useEffect","servicePerson","initialPerson","showPerson","toLowerCase","includes","event","target","preventDefault","some","window","confirm","personUpdate","find","updatePerson","setTimeout","p","length","personObject","catch","err","error","deletePerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qMAKeA,EAHA,SAACC,GAAD,OAAW,qDAAuB,uBAAOC,MAAOD,EAAME,OAAQC,SAAUH,EAAMI,uBCc9EC,EAdI,SAACL,GAChB,OACI,uBAAMM,SAAUN,EAAMO,UAAtB,UACI,yCACM,uBAAON,MAAOD,EAAMQ,QAASL,SAAUH,EAAMS,sBAEnD,2CAAa,uBAAOR,MAAOD,EAAMU,UAAWP,SAAUH,EAAMW,wBAC5D,8BACA,yBAAQC,KAAK,SAAb,iBAA2BZ,EAAMQ,iBCRvCK,EAAe,SAAC,GAAD,IAAEC,EAAF,EAAEA,OAAQC,EAAV,EAAUA,mBAAV,OAAkC,gCAAMD,EAAOE,KAAb,IAAoBF,EAAOG,OAA3B,IAAmC,wBAAQhB,MAAOa,EAAOI,GAAIC,QAAS,kBAAKJ,EAAmBD,IAA3D,yBAY3EM,EAVC,SAAC,GAAmC,IAAlCC,EAAiC,EAAjCA,QAASN,EAAwB,EAAxBA,mBACvB,OACI,8BAEQM,EAAQC,KAAI,SAAAR,GAAM,OAAI,cAAC,EAAD,CAA8BA,OAAQA,EAAQC,mBAAoBA,GAA/CD,EAAOI,U,gBCN1DK,EAAU,eAsBD,EApBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB9B,EAfA,SAAAC,GAEX,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVA,SAACV,EAAIW,GAEhB,OADgBL,IAAMO,IAAN,UAAaR,EAAb,YAAwBL,GAAMW,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ9B,EALM,SAAAV,GAEjB,OADgBM,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BL,IAC5BQ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCP9BK,EAZM,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,YAC7B,OAAgB,OAAZD,EACO,KAIP,qBAAKE,UAAWD,EAAhB,SACKD,KCqHEG,G,MAtHH,WAEV,MAA8BC,mBAAS,IAAvC,mBAAOjB,EAAP,KAAgBkB,EAAhB,KACA,EAA8BD,mBAAS,IAAvC,mBAAO9B,EAAP,KAAgBgC,EAAhB,KACA,EAAkCF,mBAAS,IAA3C,mBAAO5B,EAAP,KAAkB+B,EAAlB,KACA,EAAoCH,mBAAS,IAA7C,mBAAOI,EAAP,KAAmBC,EAAnB,KACA,EAA8BL,mBAAS,MAAvC,mBAAOJ,EAAP,KAAgBU,EAAhB,KACA,EAAsCN,mBAAS,WAA/C,mBAAOH,EAAP,KAAoBU,EAApB,KAEAC,qBAAU,WACRC,IACGrB,MAAK,SAAAsB,GACJT,EAAWS,QAEd,IAEH,IAIMC,EAA4B,KAAfP,EAAoBrB,EAAUA,EAAQnB,QAAO,SAAAY,GAAM,OAAIA,EAAOE,KAAKkC,cAAcC,SAAST,EAAWQ,kBA+ExH,OACE,gCACE,2CACA,cAAC,EAAD,CAAchB,QAASA,EAASC,YAAaA,IAC7C,cAAC,EAAD,CAAQjC,OAAQwC,EAAYtC,iBAvFP,SAACgD,GACxBT,EAAcS,EAAMC,OAAOpD,UAuFzB,2CACA,cAAC,EAAD,CACEM,UApFY,SAAC6C,GAKjB,GAJAA,EAAME,iBAEejC,EAAQkC,MAAK,SAAAzC,GAAM,OAAIA,EAAOE,OAASR,KAE1C,CAIhB,GAHegD,OAAOC,QAAP,UACVjD,EADU,6EAGH,CACV,IAAMkD,EAAY,2BAAOrC,EAAQsC,MAAK,SAAA7C,GAAM,OAAIA,EAAOE,OAASR,MAA9C,IAAwDS,OAAQP,IAClFqC,EAAqBW,EAAaxC,GAAIwC,GAAchC,MAAK,SAAAkC,GACvDhB,EAAW,WAAD,OAAYgB,EAAa5C,OACnC6B,EAAe,WAEfgB,YAAW,WACTjB,EAAW,QACV,KACHL,EAAWlB,EAAQC,KAAI,SAAAwC,GAAC,OAAIA,EAAE5C,KAAO0C,EAAa1C,GAAK4C,EAAKF,MAC5DpB,EAAW,IACXC,EAAa,YAGd,CACD,IAAMZ,EAAY,CAChBX,GAAIG,EAAQ0C,OAAS,EACrB/C,KAAMR,EACNS,OAAQP,GAGVqC,EAAqBlB,GAAWH,MAAK,SAAAsC,GACnCpB,EAAW,SAAD,OAAUoB,EAAahD,OACjC6B,EAAe,WAEfgB,YAAW,WACTjB,EAAW,QACV,KAEHL,EAAW,GAAD,mBAAKlB,GAAL,CAAc2C,KACxBxB,EAAW,IACXC,EAAa,OACZwB,OAAM,SAAAC,GACPtB,EAAWsB,EAAIvC,SAASC,KAAKuC,OAC7BtB,EAAe,SAEfgB,YAAW,WACTjB,EAAW,QACV,UAsCLpC,QAASA,EACTE,UAAWA,EACXD,iBAlBmB,SAAC2C,GACxBZ,EAAWY,EAAMC,OAAOpD,QAkBpBU,mBAfqB,SAACyC,GAC1BX,EAAaW,EAAMC,OAAOpD,UAgBxB,yCACA,cAAC,EAAD,CAASoB,QAAS4B,EAAYlC,mBAvCP,SAAAD,GACV0C,OAAOC,QAAP,iBAAyB3C,EAAOE,KAAhC,OAEb+B,EAA2BjC,EAAOI,IAAIQ,MAAK,SAAA0C,GACzC7B,EAAWlB,EAAQnB,QAAO,SAAA4D,GAAC,OAAIA,EAAE5C,KAAOJ,EAAOI,UAC9C+C,OAAM,SAAAC,GACLtB,EAAW,kBAAD,OAAmB9B,EAAOE,KAA1B,0CACV6B,EAAe,SAEfgB,YAAW,WACTjB,EAAW,QACV,gBCzFbyB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.54774365.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => <div>filter shown with <input value={props.filter} onChange={props.handleNameFilter}/></div>\r\n\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return(\r\n        <form onSubmit={props.addPerson}>\r\n            <div>\r\n            name: <input value={props.newName} onChange={props.handleNameChange}/>\r\n            </div>\r\n            <div>number: <input value={props.newNumber} onChange={props.handleNumberChange}/></div>\r\n            <div>\r\n            <button type=\"submit\">add {props.newName}</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst PersonDetail = ({person, toggleDeletePerson}) => <div>{person.name} {person.number} <button value={person.id} onClick={()=> toggleDeletePerson(person)}> delete</button></div>\r\n\r\nconst Persons = ({persons, toggleDeletePerson}) => {\r\n    return (\r\n        <div>\r\n            {\r\n                persons.map(person => <PersonDetail key={person.id} person={person} toggleDeletePerson={toggleDeletePerson}/>)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newPerson =>{\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data) \r\n}\r\n\r\nconst update = (id, newPerson) =>{\r\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update,deletePerson }","import React from 'react'\r\n\r\nconst Notification = ({ message, typeMessage }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={typeMessage}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport servicePerson from './services/phonebook'\nimport Notification from './components/Notification'\nimport './app.css'\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [nameFilter, setNameFilter] = useState('')\n  const [message, setMessage] = useState(null)\n  const [typeMessage, setTypeMessage] = useState('success')\n\n  useEffect(() => {\n    servicePerson.getAll()\n      .then(initialPerson => {\n        setPersons(initialPerson)\n      })\n  }, [])\n  \n  const handleNameFilter = (event) => {\n    setNameFilter(event.target.value)\n  }\n\n  const showPerson = nameFilter === '' ? persons : persons.filter(person => person.name.toLowerCase().includes(nameFilter.toLowerCase()))\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const validateName = persons.some(person => person.name === newName)\n\n    if (validateName) {\n      const result = window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new number`\n      )\n      if (result) {\n        const personUpdate = {...persons.find(person => person.name === newName), number: newNumber}\n        servicePerson.update(personUpdate.id, personUpdate).then(updatePerson => {\n          setMessage(`Updated ${updatePerson.name}`)\n          setTypeMessage('success')\n\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n          setPersons(persons.map(p => p.id !== updatePerson.id ? p :  updatePerson))\n          setNewName('')\n          setNewNumber('')\n        })\n      }\n    }else{\n        const newPerson = {\n          id: persons.length + 1,\n          name: newName,\n          number: newNumber\n        }\n\n        servicePerson.create(newPerson).then(personObject => {\n          setMessage(`Added ${personObject.name}`)\n          setTypeMessage('success')\n\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n\n          setPersons([...persons, personObject])\n          setNewName('')\n          setNewNumber('')\n        }).catch(err => {\n          setMessage(err.response.data.error)\n          setTypeMessage('error')\n\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n        })\n    }\n  }\n\n  const toggleDeletePerson = person =>{\n    const result = window.confirm(`Delete ${person.name}?`)\n    if (result) {\n      servicePerson.deletePerson(person.id).then(deletePerson => {\n        setPersons(persons.filter(p => p.id !== person.id))\n      }).catch(err => {\n          setMessage(`Information of ${person.name} has already been removed from server`)\n          setTypeMessage('error')\n\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000);\n      })\n    }\n\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} typeMessage={typeMessage}/>\n      <Filter filter={nameFilter} handleNameFilter={handleNameFilter}/>\n      <h2>add a new</h2>\n      <PersonForm \n        addPerson={addPerson} \n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={showPerson} toggleDeletePerson={toggleDeletePerson}/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}